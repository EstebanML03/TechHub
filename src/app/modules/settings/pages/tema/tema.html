<div class="tema-wrapper">
  <div class="tema-container">
    <!-- Header -->
    <div class="page-header">
      <button class="btn-back" (click)="volver()">
        <lucide-icon name="arrow-left"></lucide-icon>
      </button>
      <div class="header-content">
        <lucide-icon name="palette" class="header-icon"></lucide-icon>
        <div>
          <h1 class="page-title">Personalizar Apariencia</h1>
          <p class="page-subtitle">Elige el tema y colores que prefieras para TechHub</p>
        </div>
      </div>
    </div>

    <!-- Selección de Tema -->
    <div class="section">
      <h2 class="section-title">
        <lucide-icon name="layout"></lucide-icon>
        <span>Tema de la Aplicación</span>
      </h2>

      <div class="temas-grid">
        @for (opcion of opciones; track opcion.valor) {
          <div
            class="tema-card"
            [class.selected]="temaActual === opcion.valor"
            (click)="seleccionarTema(opcion.valor)"
          >
            <!-- Preview -->
            <div class="preview-container">
              <div [class]="getPreviewClasses(opcion.preview).join(' ')">
                <div class="preview-header">
                  <div class="preview-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </div>
                <div class="preview-content">
                  <div class="preview-sidebar"></div>
                  <div class="preview-main">
                    <div class="preview-bar"></div>
                    <div class="preview-bar short"></div>
                    <div class="preview-bar"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Info -->
            <div class="tema-info">
              <div class="tema-icon-wrapper" [class.selected]="temaActual === opcion.valor">
                <lucide-icon [name]="opcion.icon"></lucide-icon>
              </div>
              <div class="tema-content">
                <h3 class="tema-titulo">{{opcion.titulo}}</h3>
                <p class="tema-descripcion">{{opcion.descripcion}}</p>
              </div>
              <div class="tema-check">
                @if (temaActual === opcion.valor) {
                  <lucide-icon name="check-circle"></lucide-icon>
                }
              </div>
            </div>
          </div>
        }
      </div>
    </div>

    <!-- Color de Acento -->
    <div class="section">
      <h2 class="section-title">
        <lucide-icon name="droplet"></lucide-icon>
        <span>Color de Acento</span>
      </h2>

      <div class="color-card">
        <p class="color-descripcion">
          Personaliza el color principal de la interfaz según tus preferencias
        </p>

        <div class="colores-grid">
          @for (color of coloresAcento; track color.valor) {
            <button
              class="color-option"
              [class.selected]="colorAcentoSeleccionado === color.valor"
              [style.--color-value]="color.valor"
              (click)="seleccionarColorAcento(color.valor)"
            >
              <div class="color-circle">
                @if (colorAcentoSeleccionado === color.valor) {
                  <lucide-icon name="check"></lucide-icon>
                }
              </div>
              <span class="color-nombre">{{color.nombre}}</span>
            </button>
          }
        </div>
      </div>
    </div>

    <!-- Preview de la Configuración -->
    <div class="section">
      <h2 class="section-title">
        <lucide-icon name="eye"></lucide-icon>
        <span>Vista Previa</span>
      </h2>

      <div class="preview-card">
        <div class="preview-demo">
          <!-- Header Demo -->
          <div class="demo-header">
            <div class="demo-logo">
              <lucide-icon name="zap"></lucide-icon>
              <span>TechHub</span>
            </div>
            <div class="demo-nav">
              <span class="demo-nav-item active">Inicio</span>
              <span class="demo-nav-item">Eventos</span>
              <span class="demo-nav-item">Blog</span>
            </div>
          </div>

          <!-- Content Demo -->
          <div class="demo-content">
            <h3 class="demo-title">Ejemplo de contenido</h3>
            <p class="demo-text">
              Así se ve el texto en tu configuración actual. El tema seleccionado
              y el color de acento se aplican en toda la aplicación.
            </p>

            <div class="demo-buttons">
              <button class="demo-btn demo-btn-primary">
                <lucide-icon name="check"></lucide-icon>
                <span>Botón Principal</span>
              </button>
              <button class="demo-btn demo-btn-secondary">
                <lucide-icon name="settings"></lucide-icon>
                <span>Botón Secundario</span>
              </button>
            </div>

            <div class="demo-card">
              <div class="demo-card-header">
                <lucide-icon name="info"></lucide-icon>
                <span>Tarjeta de ejemplo</span>
              </div>
              <p class="demo-card-text">
                Este es un ejemplo de cómo se verán las tarjetas con tu configuración.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Botón Restablecer -->
    <div class="actions-section">
      <button class="btn-reset" (click)="restablecerDefecto()">
        <lucide-icon name="rotate-ccw"></lucide-icon>
        <span>Restablecer valores predeterminados</span>
      </button>
    </div>
  </div>
</div>
